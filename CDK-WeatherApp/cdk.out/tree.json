{
  "version": "tree-0.1",
  "tree": {
    "id": "App",
    "path": "",
    "children": {
      "WeatherAppStack": {
        "id": "WeatherAppStack",
        "path": "WeatherAppStack",
        "children": {
          "openWeatherParameter": {
            "id": "openWeatherParameter",
            "path": "WeatherAppStack/openWeatherParameter",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "WeatherAppStack/openWeatherParameter/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "name": "/openweather/config",
                    "type": "String",
                    "value": "{\"bucket_name\":\"riding-videos-tony\",\"key\":\"openweathermap/\",\"AWS_REGION\":\"us-west-2\",\"SENDER\":\"patlolla.akhil@gmail.com\",\"RECIPIENT\":\"patlolla.akhil@gmail.com\",\"SUBJECT\":\"OpenWeatherMap\",\"BODY_TEXT\":\"OpenWeatherMap - Reports\",\"CHARSET\":\"UTF-8\",\"api_key\":\"9c62136e546fb2e37abb9e18a138a113\",\"base_url\":\"http://api.openweathermap.org/data/2.5/forecast?\",\"s3_url\":\"https://riding-videos-tony.s3.us-west-2.amazonaws.com/openweathermap\"}"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.166.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.166.0"
            }
          },
          "openWeatherBucket": {
            "id": "openWeatherBucket",
            "path": "WeatherAppStack/openWeatherBucket",
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_s3.BucketBase",
              "version": "2.166.0"
            }
          },
          "aws-cli-bash-python": {
            "id": "aws-cli-bash-python",
            "path": "WeatherAppStack/aws-cli-bash-python",
            "children": {
              "Code": {
                "id": "Code",
                "path": "WeatherAppStack/aws-cli-bash-python/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "WeatherAppStack/aws-cli-bash-python/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.166.0"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "WeatherAppStack/aws-cli-bash-python/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.166.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.166.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "WeatherAppStack/aws-cli-bash-python/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::LayerVersion",
                  "aws:cdk:cloudformation:props": {
                    "compatibleRuntimes": [
                      "python3.10",
                      "python3.11",
                      "python3.12"
                    ],
                    "content": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "44edf579f91703e9c70ee2f837f1c635a0740d4dd5862dcb4f405b4b493c816a.zip"
                    },
                    "layerName": "aws-cli-bash-python"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnLayerVersion",
                  "version": "2.166.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.LayerVersion",
              "version": "2.166.0"
            }
          },
          "pandas-layer": {
            "id": "pandas-layer",
            "path": "WeatherAppStack/pandas-layer",
            "constructInfo": {
              "fqn": "aws-cdk-lib.Resource",
              "version": "2.166.0"
            }
          },
          "matplotlib-layer": {
            "id": "matplotlib-layer",
            "path": "WeatherAppStack/matplotlib-layer",
            "children": {
              "Code": {
                "id": "Code",
                "path": "WeatherAppStack/matplotlib-layer/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "WeatherAppStack/matplotlib-layer/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.166.0"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "WeatherAppStack/matplotlib-layer/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.166.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.166.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "WeatherAppStack/matplotlib-layer/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::LayerVersion",
                  "aws:cdk:cloudformation:props": {
                    "compatibleRuntimes": [
                      "python3.10",
                      "python3.11",
                      "python3.12"
                    ],
                    "content": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "7644f1da7085b4fd2d50b47c7d73a42fa3ed486ab98bb777610cf932f08df72f.zip"
                    },
                    "layerName": "matplotlib-layer"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnLayerVersion",
                  "version": "2.166.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.LayerVersion",
              "version": "2.166.0"
            }
          },
          "lambda-service-role": {
            "id": "lambda-service-role",
            "path": "WeatherAppStack/lambda-service-role",
            "children": {
              "Importlambda-service-role": {
                "id": "Importlambda-service-role",
                "path": "WeatherAppStack/lambda-service-role/Importlambda-service-role",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.166.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "WeatherAppStack/lambda-service-role/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                  "aws:cdk:cloudformation:props": {
                    "assumeRolePolicyDocument": {
                      "Statement": [
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": {
                              "Fn::Join": [
                                "",
                                [
                                  "lambda.",
                                  {
                                    "Ref": "AWS::Region"
                                  },
                                  ".amazonaws.com"
                                ]
                              ]
                            }
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "managedPolicyArns": [
                      "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                    ],
                    "policies": [
                      {
                        "policyName": "lambdaservicerolepolicy",
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": "s3:*",
                              "Effect": "Allow",
                              "Resource": [
                                {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:",
                                      {
                                        "Ref": "AWS::Partition"
                                      },
                                      ":s3:::riding-videos-tony"
                                    ]
                                  ]
                                },
                                {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:",
                                      {
                                        "Ref": "AWS::Partition"
                                      },
                                      ":s3:::riding-videos-tony/*"
                                    ]
                                  ]
                                }
                              ]
                            },
                            {
                              "Action": "logs:*",
                              "Effect": "Allow",
                              "Resource": {
                                "Fn::Join": [
                                  "",
                                  [
                                    "arn:aws:logs:",
                                    {
                                      "Ref": "AWS::Region"
                                    },
                                    ":",
                                    {
                                      "Ref": "AWS::AccountId"
                                    },
                                    ":*"
                                  ]
                                ]
                              }
                            },
                            {
                              "Action": "cloudwatch:*",
                              "Effect": "Allow",
                              "Resource": {
                                "Fn::Join": [
                                  "",
                                  [
                                    "arn:aws:cloudwatch:",
                                    {
                                      "Ref": "AWS::Region"
                                    },
                                    ":",
                                    {
                                      "Ref": "AWS::AccountId"
                                    },
                                    ":*"
                                  ]
                                ]
                              }
                            },
                            {
                              "Action": "ses:*",
                              "Effect": "Allow",
                              "Resource": [
                                "*",
                                {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:",
                                      {
                                        "Ref": "AWS::Partition"
                                      },
                                      ":ssm:",
                                      {
                                        "Ref": "AWS::Region"
                                      },
                                      ":",
                                      {
                                        "Ref": "AWS::AccountId"
                                      },
                                      ":parameter",
                                      {
                                        "Ref": "openWeatherParameter6C274A6E"
                                      }
                                    ]
                                  ]
                                }
                              ]
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    ],
                    "roleName": "lambda-service-role"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                  "version": "2.166.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Role",
              "version": "2.166.0"
            }
          },
          "lambda-basic-role-policy": {
            "id": "lambda-basic-role-policy",
            "path": "WeatherAppStack/lambda-basic-role-policy",
            "constructInfo": {
              "fqn": "aws-cdk-lib.Resource",
              "version": "2.166.0"
            }
          },
          "WeatherForecase": {
            "id": "WeatherForecase",
            "path": "WeatherAppStack/WeatherForecase",
            "children": {
              "Code": {
                "id": "Code",
                "path": "WeatherAppStack/WeatherForecase/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "WeatherAppStack/WeatherForecase/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.166.0"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "WeatherAppStack/WeatherForecase/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.166.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.166.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "WeatherAppStack/WeatherForecase/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "c13e0195e8239a30baaa38d116574d4307bbfc021c5bca4b3677e6f4ff1835bd.zip"
                    },
                    "environment": {
                      "variables": {}
                    },
                    "handler": "index.handler",
                    "layers": [
                      "arn:aws:lambda:us-west-2:336392948345:layer:AWSSDKPandas-Python310:21"
                    ],
                    "role": {
                      "Fn::GetAtt": [
                        "lambdaservicerole34E512C8",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.10",
                    "timeout": 300
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.166.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.166.0"
            }
          },
          "Rule": {
            "id": "Rule",
            "path": "WeatherAppStack/Rule",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "WeatherAppStack/Rule/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Events::Rule",
                  "aws:cdk:cloudformation:props": {
                    "scheduleExpression": "cron(0 0 * * ? *)",
                    "state": "ENABLED",
                    "targets": [
                      {
                        "id": "Target0",
                        "arn": {
                          "Fn::GetAtt": [
                            "WeatherForecaseA84DB818",
                            "Arn"
                          ]
                        }
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_events.CfnRule",
                  "version": "2.166.0"
                }
              },
              "AllowEventRuleWeatherAppStackWeatherForecase08035E87": {
                "id": "AllowEventRuleWeatherAppStackWeatherForecase08035E87",
                "path": "WeatherAppStack/Rule/AllowEventRuleWeatherAppStackWeatherForecase08035E87",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                  "aws:cdk:cloudformation:props": {
                    "action": "lambda:InvokeFunction",
                    "functionName": {
                      "Fn::GetAtt": [
                        "WeatherForecaseA84DB818",
                        "Arn"
                      ]
                    },
                    "principal": "events.amazonaws.com",
                    "sourceArn": {
                      "Fn::GetAtt": [
                        "Rule4C995B7F",
                        "Arn"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                  "version": "2.166.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_events.Rule",
              "version": "2.166.0"
            }
          },
          "CDKMetadata": {
            "id": "CDKMetadata",
            "path": "WeatherAppStack/CDKMetadata",
            "children": {
              "Default": {
                "id": "Default",
                "path": "WeatherAppStack/CDKMetadata/Default",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.166.0"
                }
              },
              "Condition": {
                "id": "Condition",
                "path": "WeatherAppStack/CDKMetadata/Condition",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnCondition",
                  "version": "2.166.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.4.2"
            }
          },
          "BootstrapVersion": {
            "id": "BootstrapVersion",
            "path": "WeatherAppStack/BootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.166.0"
            }
          },
          "CheckBootstrapVersion": {
            "id": "CheckBootstrapVersion",
            "path": "WeatherAppStack/CheckBootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnRule",
              "version": "2.166.0"
            }
          }
        },
        "constructInfo": {
          "fqn": "aws-cdk-lib.Stack",
          "version": "2.166.0"
        }
      },
      "Tree": {
        "id": "Tree",
        "path": "Tree",
        "constructInfo": {
          "fqn": "constructs.Construct",
          "version": "10.4.2"
        }
      }
    },
    "constructInfo": {
      "fqn": "aws-cdk-lib.App",
      "version": "2.166.0"
    }
  }
}